<template>
    <section class="section-experience">
        <div class="container-experience d-flex">
            <div class="title-experience d-flex">
                <h2 id="Experiencias" class="wow animate__animated animate__fadeInDown"
                    data-wow-delay="0.3s" data-wow-offset="10">Titulo de Experiencia</h2>                    
            </div>
            <div class="content-items-experience" data-contador="1">
                <nuxt-link to="/experiencia/1" 
                           class="items-experience page-1 d-flex wow animate__animated animate__fadeInUp"
                           data-wow-delay="0.1s" data-wow-offset="10" aria-label="Redirección">                        
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-3.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-1', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/2" 
                           class="items-experience page-1 d-flex wow animate__animated animate__fadeInUp" 
                           data-wow-delay="0.3s" data-wow-offset="10" aria-label="Redirección">
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-4.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-2', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/3" 
                           class="items-experience page-1 d-flex wow animate__animated animate__fadeInUp" 
                           data-wow-delay="0.5s" data-wow-offset="10" aria-label="Redirección">
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-5.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-3', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/4" 
                           class="items-experience page-2 d-flex wow animate__animated animate__fadeInUp"
                           data-wow-delay="0.1s" data-wow-offset="10" aria-label="Redirección">                        
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-3.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-1', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/5" 
                           class="items-experience page-2 d-flex wow animate__animated animate__fadeInUp" 
                           data-wow-delay="0.3s" data-wow-offset="10" aria-label="Redirección">
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-4.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-2', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/6" 
                           class="items-experience page-2 d-flex wow animate__animated animate__fadeInUp" 
                           data-wow-delay="0.5s" data-wow-offset="10" aria-label="Redirección">
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-5.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-3', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/7" 
                           class="items-experience page-3 d-flex wow animate__animated animate__fadeInUp"
                           data-wow-delay="0.1s" data-wow-offset="10" aria-label="Redirección">                        
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-3.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-1', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/8" 
                           class="items-experience page-3 d-flex wow animate__animated animate__fadeInUp" 
                           data-wow-delay="0.3s" data-wow-offset="10" aria-label="Redirección">
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-4.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-2', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
                <nuxt-link to="/experiencia/9" 
                           class="items-experience page-3 d-flex wow animate__animated animate__fadeInUp" 
                           data-wow-delay="0.5s" data-wow-offset="10" aria-label="Redirección">
                    <div class="visual-experience">
                        <NuxtPicture
                            src="images/img-600x400-5.webp"
                            densities="x1 x2"
                            preset="blog" 
                            format="webp" 
                            quality="90" 
                            fit="cover" 
                            preload
                            loading="lazy"
                            width="425"
                            height="270" 
                            :imgAttrs="{
                                id:'img-experience-3', 
                                class:'img-fluid ', 
                                alt: 'Image',                                
                                title: 'Imagen',
                                'data-my-data': 'my-value'}"/>  
                    </div>                        
                    <div class="info-experience">
                        <div class="content-title">
                            <h2>Empresa</h2>
                        </div>  
                        <h3>Subtitulo</h3>
                        <p class="sinopsis">
                            We Are pioneers of solar & renewable energy industry
                        </p>
                        <p class="redirect"> 
                            Da click para para saber más <Icon name="ri:arrow-right-line" />
                        </p>  
                    </div>
                </nuxt-link>
            </div>
            <div class="content-show-more d-flex">
                <hr>
                <button class="" @click="showMore">
                    <span class="box">
                        Mostrar más                        
                        <Icon name="ri:arrow-down-s-line" size="1.5rem"/>
                    </span>
                </button>
            </div>
        </div>
    </section>
</template>

<script setup>
    // Vue
    import { onMounted } from "vue";
    // Global Data (Pinia)
    import {dataGlobal} from '@/store/globalData'
    // 
    const DataGlobal = dataGlobal();   
    const { getElement, initializationWow } = DataGlobal; 
    // 
    const showMore = (e) => {
        let container = getElement('.content-items-experience');
        let newCount = parseInt(container.dataset.contador) + 1;
        let nextCount = newCount + 1;
            container.dataset.contador = newCount;
        let items = getElement('.content-items-experience .page-'+newCount);
        if(items != null){
            let MaxHeight = 510 * newCount;
            let nextItems = getElement('.content-items-experience .page-'+nextCount);     
                container.style = "max-height: "+MaxHeight+"px;";
            if(nextItems == null){
                getElement('.content-show-more').classList.add('d-none')
            }      
        }
    }
    onMounted(() => {
        initializationWow();
    });
</script>

<style  scoped>
    .section-experience  hr{
        background: #2a3a41;
        border-radius: 15px;
        border: 1px solid #0d8184;
        box-shadow: 0 0 30px #0d8184;
        height: 1px;
        width: 100%;
        opacity: 1;
    }
    .section-experience .container-experience .content-items-experience{
        max-height: 500px;
        overflow: hidden;
        padding: 0 1rem 1rem;
        gap: 2rem;
    }
    .section-experience .container-experience .content-items-experience .items-experience{
        box-shadow: 0px 4px 7px 2px rgb(0 0 0 / 53%);
    }
</style>